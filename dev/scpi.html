<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>SCPI Interface · RP DAQ Server</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="RP DAQ Server logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">RP DAQ Server</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><a class="tocitem" href="architecture.html">Architecture</a></li><li><a class="tocitem" href="installation.html">Installation</a></li><li><a class="tocitem" href="connections.html">Connections</a></li><li><a class="tocitem" href="cluster.html">Cluster</a></li><li><a class="tocitem" href="acquisition.html">Data Acquisition</a></li><li><a class="tocitem" href="generation.html">Signal Generation</a></li><li class="is-active"><a class="tocitem" href="scpi.html">SCPI Interface</a><ul class="internal"><li><a class="tocitem" href="#ADC-Configuration"><span>ADC Configuration</span></a></li><li><a class="tocitem" href="#DAC-Configuration"><span>DAC Configuration</span></a></li><li><a class="tocitem" href="#Sequence-Configuration"><span>Sequence Configuration</span></a></li><li><a class="tocitem" href="#Acquisition-and-Transmission"><span>Acquisition and Transmission</span></a></li><li><a class="tocitem" href="#DIO"><span>DIO</span></a></li></ul></li><li><a class="tocitem" href="client.html">Client Library</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="examples/simple.html">Simple</a></li><li><a class="tocitem" href="examples/waveforms.html">Waveforms</a></li><li><a class="tocitem" href="examples/sequence.html">Sequence</a></li><li><a class="tocitem" href="examples/sequenceMultiChannel.html">Sequence Multi-Channel and Waveform Enable</a></li><li><a class="tocitem" href="examples/cluster.html">Cluster</a></li><li><a class="tocitem" href="examples/producerConsumer.html">Continous Signal Acquisition</a></li></ul></li><li><a class="tocitem" href="fpga.html">FPGA Development</a></li><li><a class="tocitem" href="devtips.html">Development Tips</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="scpi.html">SCPI Interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="scpi.html">SCPI Interface</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/tknopp/RedPitayaDAQServer/blob/master/docs/src/scpi.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="SCPI-Interface"><a class="docs-heading-anchor" href="#SCPI-Interface">SCPI Interface</a><a id="SCPI-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#SCPI-Interface" title="Permalink"></a></h1><p>For communication betten the server and the client an <a href="https://en.wikipedia.org/wiki/Standard_Commands_for_Programmable_Instruments">SCPI</a> with custom commands is used. In the following tables an overview of the available commands and their behaviour is given. The Julia <a href="client.html">Client</a> library encapsulates these commands into function calls, abstracting their communication details and also combining commands to manage a cluster of RedPitayas at the same time.</p><p>As a safe guard the server has different modes and certain commands are only available in certain modes. As an example, during an acquisition changing the sampling rate would result in unclear behaviour. To stop such a scenario the decimation can only be set in the <code>CONFIGURATION</code> mode and an acquisition can only be triggered in the <code>ACQUISITION</code> mode. The available modes are <code>CONFIGURATION</code>, <code>ACQUISITION</code> and <code>TRANSMISSION</code>. The former two are set by the client and the latter is set by the server during sample transmission.</p><p>After each SCPI command the server replies with <code>true</code> or <code>false</code> on the command socket depending on whether the given command was successfully excecuted. The exception to this rule are the commands which themselves just query singular values from the server which are then the only reply.</p><h2 id="ADC-Configuration"><a class="docs-heading-anchor" href="#ADC-Configuration">ADC Configuration</a><a id="ADC-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#ADC-Configuration" title="Permalink"></a></h2><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Arguments</th><th style="text-align: left">Description</th><th style="text-align: center">Mode</th><th style="text-align: left">Example</th></tr><tr><td style="text-align: left">RP:ADC:DECimation</td><td style="text-align: left">decimation value [8, ..., n]</td><td style="text-align: left">Set the decimation factor of the base sampling rate</td><td style="text-align: center">C</td><td style="text-align: left">RP:ADC:DEC 8</td></tr><tr><td style="text-align: left">RP:ADC:DECimation?</td><td style="text-align: left"></td><td style="text-align: left">Return the decimation factor</td><td style="text-align: center">Any</td><td style="text-align: left">RP:ADC:DEC?</td></tr><tr><td style="text-align: left">RP:TRIGger:MODe</td><td style="text-align: left">trigger mode (EXTERNAL, INTERNAL)</td><td style="text-align: left">Set the trigger mode, which trigger the RedPitaya listens to</td><td style="text-align: center">C</td><td style="text-align: left">RP:TRIG:MOD INTERNAL</td></tr><tr><td style="text-align: left">RP:TRIGger:MODe?</td><td style="text-align: left"></td><td style="text-align: left">Return the trigger mode</td><td style="text-align: center">Any</td><td style="text-align: left">RP:TRIG:MOD?</td></tr><tr><td style="text-align: left">RP:CALib:ADC:CHannel#:OFFset</td><td style="text-align: left">channel (0, 1), offset [0, ..., 1]</td><td style="text-align: left">Store the ADC offset value for given channel in EEPROM</td><td style="text-align: center">C</td><td style="text-align: left">RP:CAL:ADC:CH0:OFF 0.2</td></tr><tr><td style="text-align: left">RP:CALib:ADC:CHannel#:OFFset?</td><td style="text-align: left">channel (0, 1)</td><td style="text-align: left">Return the ADC offset value for given channel from EEPROM</td><td style="text-align: center">Any</td><td style="text-align: left">RP:CAL:ADC:CH1:OFF?</td></tr><tr><td style="text-align: left">RP:CALib:ADC:CHannel#:SCAle</td><td style="text-align: left">channel (0, 1), scale [0, ..., 1]</td><td style="text-align: left">Store the ADC scale value for given channel in EEPROM</td><td style="text-align: center">C</td><td style="text-align: left">RP:CAL:ADC:CH1:SCA 1.0</td></tr><tr><td style="text-align: left">RP:CALib:ADC:CHannel#:SCAle?</td><td style="text-align: left">channel (0, 1)</td><td style="text-align: left">Return the ADC scale value for given channel from EEPROM</td><td style="text-align: center">Any</td><td style="text-align: left">RP:CAL:ADC:CH1:SCA?</td></tr></table><h2 id="DAC-Configuration"><a class="docs-heading-anchor" href="#DAC-Configuration">DAC Configuration</a><a id="DAC-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#DAC-Configuration" title="Permalink"></a></h2><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Arguments</th><th style="text-align: left">Description</th><th style="text-align: center">Mode</th><th style="text-align: left">Example</th></tr><tr><td style="text-align: left">RP:DAC:CHannel#:SIGnaltype</td><td style="text-align: left">channel (0, 1), signal type (SINE, SQUARE, TRIANGLE, SAWTOOTH)</td><td style="text-align: left">Set signal type of first component for given channel</td><td style="text-align: center">Any</td><td style="text-align: left">RP:DAC:CH0:SIG SQUARE</td></tr><tr><td style="text-align: left">RP:DAC:CHannel#:SIGnaltype?</td><td style="text-align: left">channel (0, 1)</td><td style="text-align: left">Return signal type of first component of given channel</td><td style="text-align: center">Any</td><td style="text-align: left">RP:DAC:CH1:SIG?</td></tr><tr><td style="text-align: left">RP:DAC:CHannel#:JUMPsharpness</td><td style="text-align: left">channel (0, 1)</td><td style="text-align: left"></td><td style="text-align: center">Any</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">RP:DAC:CHannel#:JUMPsharpness?</td><td style="text-align: left">channel (0, 1)</td><td style="text-align: left"></td><td style="text-align: center">Any</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">RP:DAC:CHannel#:OFFset</td><td style="text-align: left">channel (0, 1), offset [-1, ..., 1]</td><td style="text-align: left">Set offset for given channel</td><td style="text-align: center">Any</td><td style="text-align: left">RP:DAC:CH1:OFF 0.1</td></tr><tr><td style="text-align: left">RP:DAC:CHannel#:OFFset?</td><td style="text-align: left">channel (0, 1)</td><td style="text-align: left">Return offset of given channel</td><td style="text-align: center">Any</td><td style="text-align: left">RP:DAC:CH0:OFF?</td></tr><tr><td style="text-align: left">RP:DAC:CHannel#:COMPonent#:AMPlitude</td><td style="text-align: left">channel (0, 1), component (0, 1, 2, 3),  amplitude[0, ..., 1]</td><td style="text-align: left">Set amplitude of given channel and component</td><td style="text-align: center">Any</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">RP:DAC:CHannel#:COMPonent#:AMPlitude?</td><td style="text-align: left">channel (0, 1), component (0, 1, 2, 3)</td><td style="text-align: left">Return amplitude of given channel and component</td><td style="text-align: center">Any</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">RP:DAC:CHannel#:COMPonent#:FREQuency</td><td style="text-align: left">channel (0, 1), component (0, 1, 2, 3), frequency</td><td style="text-align: left">Set frequency of given channel and component</td><td style="text-align: center">Any</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">RP:DAC:CHannel#:COMPonent#:FREQuency?</td><td style="text-align: left">channel (0, 1), component (0, 1, 2, 3)</td><td style="text-align: left">Return frequency of given channel and component</td><td style="text-align: center">Any</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">RP:DAC:CHannel#:COMPonent#:PHAse</td><td style="text-align: left">channel (0, 1), component (0, 1, 2, 3), phase</td><td style="text-align: left">Set phase of given channel and component</td><td style="text-align: center">Any</td><td style="text-align: left"></td></tr><tr><td style="text-align: left">RP:DAC:CHannel#:COMPonent#:PHAse?</td><td style="text-align: left">channel (0, 1), component (0, 1, 2, 3)</td><td style="text-align: left">Return phase of given channel and component</td><td style="text-align: center">Any</td><td style="text-align: left"></td></tr></table><h2 id="Sequence-Configuration"><a class="docs-heading-anchor" href="#Sequence-Configuration">Sequence Configuration</a><a id="Sequence-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Sequence-Configuration" title="Permalink"></a></h2><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Arguments</th><th style="text-align: left">Description</th><th style="text-align: center">Mode</th><th style="text-align: left">Example</th></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td><td style="text-align: left"></td><td style="text-align: center"></td><td style="text-align: left"></td></tr></table><h2 id="Acquisition-and-Transmission"><a class="docs-heading-anchor" href="#Acquisition-and-Transmission">Acquisition and Transmission</a><a id="Acquisition-and-Transmission-1"></a><a class="docs-heading-anchor-permalink" href="#Acquisition-and-Transmission" title="Permalink"></a></h2><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Arguments</th><th style="text-align: left">Description</th><th style="text-align: center">Mode</th><th style="text-align: left">Example</th></tr><tr><td style="text-align: left">RP:TRIGger</td><td style="text-align: left">trigger status (OFF, ON)</td><td style="text-align: left">Set the internal trigger status</td><td style="text-align: center">M</td><td style="text-align: left">RP:TRIG ON</td></tr><tr><td style="text-align: left">RP:TRIGger?</td><td style="text-align: left"></td><td style="text-align: left">Return the trigger status</td><td style="text-align: center">Any</td><td style="text-align: left">RP:TRIG?</td></tr><tr><td style="text-align: left">RP:TRIGger:ALiVe</td><td style="text-align: left">keep alive status (OFF, ON)</td><td style="text-align: left">Set the keep alive bypass</td><td style="text-align: center">M</td><td style="text-align: left">RP:TRIG:ALV OFF</td></tr><tr><td style="text-align: left">RP:TRIGger:ALiVe?</td><td style="text-align: left"></td><td style="text-align: left">Return the keep alive status</td><td style="text-align: center">Any</td><td style="text-align: left">RP:TRIG:ALV?</td></tr><tr><td style="text-align: left">RP:ADC:WP:CURRent?</td><td style="text-align: left"></td><td style="text-align: left">Return the current writepointer</td><td style="text-align: center">M, T</td><td style="text-align: left">RP:ADC:WP?</td></tr><tr><td style="text-align: left">RP:ADC:DATa?</td><td style="text-align: left">readpointer, number of samples</td><td style="text-align: left">Transmit number of samples from the buffer component of the readpointer on</td><td style="text-align: center">M</td><td style="text-align: left">RP:ADC:DATa? 400,1024</td></tr><tr><td style="text-align: left">RP:ADC:DATa:PIPElined?</td><td style="text-align: left">readpointer, number of samples, chunksize</td><td style="text-align: left">Transmit number of samples from the readpointer on in chunks of chunksize. After every chunk status and performance data is transmitted.</td><td style="text-align: center">M</td><td style="text-align: left">RP:ADC:DAT:PIPE? 400,1024,128</td></tr><tr><td style="text-align: left">RP:STATus?</td><td style="text-align: left"></td><td style="text-align: left">Transmit status as one byte with flags from lower bits: overwritten, corrupted, lost steps, master trigger, sequence active</td><td style="text-align: center">Any</td><td style="text-align: left">RP:STAT?</td></tr><tr><td style="text-align: left">RP:STATus:OVERwritten?</td><td style="text-align: left"></td><td style="text-align: left">Transmit overwritten flag</td><td style="text-align: center">Any</td><td style="text-align: left">RP:STAT:OVER?</td></tr><tr><td style="text-align: left">RP:STATus:CORRupted?</td><td style="text-align: left"></td><td style="text-align: left">Transmit corrupted flag</td><td style="text-align: center">Any</td><td style="text-align: left">RP:STAT:CORR?</td></tr><tr><td style="text-align: left">RP:STATus:LOSTSteps?</td><td style="text-align: left"></td><td style="text-align: left">Transmit lost steps flag</td><td style="text-align: center">Any</td><td style="text-align: left">RP:STAT:LOSTS?</td></tr><tr><td style="text-align: left">RP:PERF?</td><td style="text-align: left"></td><td style="text-align: left">Transmit ADC and DAC performance data</td><td style="text-align: center">Any</td><td style="text-align: left">RP:PERF?</td></tr></table><h2 id="DIO"><a class="docs-heading-anchor" href="#DIO">DIO</a><a id="DIO-1"></a><a class="docs-heading-anchor-permalink" href="#DIO" title="Permalink"></a></h2><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Arguments</th><th style="text-align: left">Description</th><th style="text-align: left">Example</th></tr><tr><td style="text-align: left">RP:DIO:DIR</td><td style="text-align: left">identifier of pin, direction (IN/OUT)</td><td style="text-align: left">Set the direction of the DIO</td><td style="text-align: left">RP:DIO:DIR DIO7_P,IN</td></tr><tr><td style="text-align: left">RP:DIO</td><td style="text-align: left">identifier of pin, value (0/1)</td><td style="text-align: left">Set the output of the DIO</td><td style="text-align: left">RP:DIO DIO7_P,1</td></tr><tr><td style="text-align: left">RP:DIO?</td><td style="text-align: left">identifier of pin</td><td style="text-align: left">Get the input of the DIO</td><td style="text-align: left">RP:DIO? DIO7_P</td></tr></table></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="generation.html">« Signal Generation</a><a class="docs-footer-nextpage" href="client.html">Client Library »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.14 on <span class="colophon-date" title="Friday 4 March 2022 21:06">Friday 4 March 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
